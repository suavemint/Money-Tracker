<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
  <h1 style="margin: 0; color: #1f2937; font-size: 2rem;">Accounts</h1>
  <%= link_to "Add New Account", new_account_path, style: "background-color: #2563eb; color: white; padding: 0.75rem 1.5rem; text-decoration: none; border-radius: 0.375rem; font-weight: 500;" %>
</div>

<% if @accounts.any? %>
  <div style="background-color: white; border: 1px solid #e5e7eb; border-radius: 0.5rem; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
    <% @accounts.each_with_index do |account, index| %>
      <div style="padding: 1.5rem; <%= 'border-bottom: 1px solid #f3f4f6;' unless index == @accounts.count - 1 %>">
        <div style="display: flex; justify-content: space-between; align-items: start;">
          <div style="flex: 1;">
            <h3 style="margin: 0 0 0.5rem 0; color: #1f2937; font-size: 1.25rem;">
              <%= link_to account.name, account_path(account), style: "color: #2563eb; text-decoration: none;" %>
            </h3>
            <div style="color: #6b7280; margin-bottom: 0.5rem;">
              <strong><%= account.institution %></strong> â€¢ <%= account.account_type.humanize %>
            </div>
            <% if account.account_number.present? %>
              <div style="color: #6b7280; font-size: 0.875rem;">
                Account: ****<%= account.account_number.last(4) %>
              </div>
            <% end %>
          </div>
          
          <div style="text-align: right; margin-left: 2rem;">
            <div style="font-size: 1.5rem; font-weight: bold; margin-bottom: 0.5rem; color: <%= account.current_balance >= 0 ? '#059669' : '#dc2626' %>;">
              $<%= number_with_precision(account.current_balance, precision: 2, delimiter: ',') %>
            </div>
            <div style="display: flex; gap: 0.5rem;">
              <%= link_to "View", account_path(account), style: "color: #2563eb; text-decoration: none; padding: 0.25rem 0.75rem; border: 1px solid #2563eb; border-radius: 0.25rem; font-size: 0.875rem;" %>
              <%= link_to "Edit", edit_account_path(account), style: "color: #059669; text-decoration: none; padding: 0.25rem 0.75rem; border: 1px solid #059669; border-radius: 0.25rem; font-size: 0.875rem;" %>
              <%= link_to "Delete", account_path(account), method: :delete, 
                    confirm: "Are you sure you want to delete this account? This will also delete all associated transactions and statements.", 
                    style: "color: #dc2626; text-decoration: none; padding: 0.25rem 0.75rem; border: 1px solid #dc2626; border-radius: 0.25rem; font-size: 0.875rem;" %>
            </div>
          </div>
        </div>
        
        <div style="margin-top: 1rem; display: flex; gap: 1rem; font-size: 0.875rem; color: #6b7280;">
          <span><%= pluralize(account.transactions.count, 'transaction') %></span>
          <span><%= pluralize(account.statements.count, 'statement') %></span>
        </div>
      </div>
    <% end %>
  </div>
<% else %>
  <div style="text-align: center; padding: 3rem; background-color: white; border: 1px solid #e5e7eb; border-radius: 0.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
    <h2 style="color: #6b7280; margin-bottom: 1rem;">No accounts yet</h2>
    <p style="color: #9ca3af; margin-bottom: 2rem;">Get started by adding your first account to track your finances.</p>
    <%= link_to "Add Your First Account", new_account_path, style: "background-color: #2563eb; color: white; padding: 0.75rem 1.5rem; text-decoration: none; border-radius: 0.375rem; font-weight: 500;" %>
  </div>
<% end %>

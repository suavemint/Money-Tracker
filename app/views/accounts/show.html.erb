<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
  <h1 style="margin: 0; color: #1f2937; font-size: 2rem;"><%= @account.name %></h1>
  <div style="display: flex; gap: 1rem;">
    <%= link_to "← Back to Accounts", accounts_path, style: "color: #6b7280; text-decoration: none;" %>
    <%= link_to "Edit Account", edit_account_path(@account), style: "background-color: #059669; color: white; padding: 0.5rem 1rem; text-decoration: none; border-radius: 0.375rem; font-weight: 500;" %>
  </div>
</div>

<div style="display: grid; grid-template-columns: 1fr 2fr; gap: 2rem;">
  <div style="background-color: white; border: 1px solid #e5e7eb; border-radius: 0.5rem; padding: 1.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
    <h2 style="margin: 0 0 1rem 0; color: #1f2937;">Account Details</h2>
    
    <div style="margin-bottom: 1rem;">
      <div style="color: #6b7280; font-size: 0.875rem; margin-bottom: 0.25rem;">Institution</div>
      <div style="font-weight: 600; color: #1f2937;"><%= @account.institution %></div>
    </div>
    
    <div style="margin-bottom: 1rem;">
      <div style="color: #6b7280; font-size: 0.875rem; margin-bottom: 0.25rem;">Account Type</div>
      <div style="font-weight: 600; color: #1f2937;"><%= @account.account_type.humanize %></div>
    </div>
    
    <% if @account.account_number.present? %>
      <div style="margin-bottom: 1rem;">
        <div style="color: #6b7280; font-size: 0.875rem; margin-bottom: 0.25rem;">Account Number</div>
        <div style="font-weight: 600; color: #1f2937;">****<%= @account.account_number.last(4) %></div>
      </div>
    <% end %>
    
    <div style="margin-bottom: 1.5rem;">
      <div style="color: #6b7280; font-size: 0.875rem; margin-bottom: 0.25rem;">Current Balance</div>
      <div style="font-size: 1.5rem; font-weight: bold; color: <%= @account.current_balance >= 0 ? '#059669' : '#dc2626' %>;">
        $<%= number_with_precision(@account.current_balance, precision: 2, delimiter: ',') %>
      </div>
    </div>
    
    <div style="display: flex; flex-direction: column; gap: 0.5rem;">
      <%= link_to "Add Transaction", new_account_transaction_path(@account), style: "background-color: #2563eb; color: white; padding: 0.75rem; text-decoration: none; border-radius: 0.375rem; font-weight: 500; text-align: center;" %>
      <%= link_to "Upload Statement", new_account_statement_path(@account), style: "background-color: #7c3aed; color: white; padding: 0.75rem; text-decoration: none; border-radius: 0.375rem; font-weight: 500; text-align: center;" %>
    </div>
  </div>
  
  <div>
    <div style="background-color: white; border: 1px solid #e5e7eb; border-radius: 0.5rem; padding: 1.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1); margin-bottom: 2rem;">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
        <h2 style="margin: 0; color: #1f2937;">Recent Transactions</h2>
        <%= link_to "View All Transactions", account_transactions_path(@account), style: "color: #2563eb; text-decoration: none; font-weight: 500;" %>
      </div>
      
      <% if @account.transactions.any? %>
        <% @account.transactions.includes(:category).order(transaction_date: :desc).limit(5).each do |transaction| %>
          <div style="border-bottom: 1px solid #f3f4f6; padding: 0.75rem 0;">
            <div style="display: flex; justify-content: space-between; align-items: center;">
              <div>
                <strong style="color: #1f2937;"><%= transaction.description %></strong>
                <div style="color: #6b7280; font-size: 0.875rem;">
                  <%= transaction.transaction_date.strftime("%b %d, %Y") %>
                  <% if transaction.category %>
                    • <span style="background-color: <%= transaction.category.color %>; color: white; padding: 0.125rem 0.5rem; border-radius: 0.25rem; font-size: 0.75rem;"><%= transaction.category.name %></span>
                  <% end %>
                </div>
              </div>
              <div style="text-align: right;">
                <div style="font-weight: 600; color: <%= transaction.amount >= 0 ? '#059669' : '#dc2626' %>;">
                  <%= transaction.amount >= 0 ? '+' : '' %>$<%= number_with_precision(transaction.amount.abs, precision: 2, delimiter: ',') %>
                </div>
              </div>
            </div>
          </div>
        <% end %>
      <% else %>
        <p style="color: #6b7280; margin: 1rem 0;">No transactions yet. <%= link_to "Add your first transaction", new_account_transaction_path(@account), style: "color: #2563eb; text-decoration: none;" %></p>
      <% end %>
    </div>
  </div>
</div>
